# Prompts - DEMO 1

Actúa como un ingeniero de Software especializado en desarrollo en Backend y analiza el proyecto @starter. Explícame qué tecnologías y librerias se están utilizando y cual es el objetivo de este proyecto.

---

Quiero que traduzcas el proyecto @starter de Python a NodeJS, teniendo en cuenta los siguientes puntos importantes:

1. **Estructura del Proyecto**:
   - El directorio de trabajo se llamará `starter-to-node`.
   - Utilizaremos TypeScript para mantener el tipado fuerte.
   - Nos conectaremos a la base de datos con la libreria Sequelize.
   - Excluiremos las pruebas por ahora para simplificar el proceso inicial.

2. **Instalación de nodeJS y dependencias necesarias**:
   - Dame una lista de comandos para instalar nodeJS y las dependencias necesarias: typescript y sequelize.

3. **Base de Datos**:
   - La base de datos seguirá siendo PostgreSQL, y respetaremos la estructura de las entidades.
        - Base de datos: products_db
        - Entidad: Product (id, name, price, description)
   - Debes mantener el script de inicialización de la base de datos (`docker/init.sql`) que configure las tablas necesarias.
   - Asegúrate de que el script de inicialización se ejecute correctamente dentro del contenedor de Docker.

4. **Docker y Docker Compose**:
   - Docker y Compose deben seguir funcionando, pero con la configuración pertinente para NodeJS.

5. **Variables de Entorno**:
   - Respeta las variables de entorno definidas en el proyecto de Python.
   - Crea un archivo `.env` con todas las variables necesarias y asegúrate de que se utilicen correctamente en la configuración del proyecto.

6. **Validación y Verificación**:
   - Verifica que todo el código proporcionado funcione sin errores.
   - Explica cómo has abordado cada uno de estos puntos y justifica las decisiones técnicas que tomaste.

Antes de comenzar, ¿tienes alguna duda o necesitas más información?

--------------------------------

## Posibles errores y soluciones

- Incluye los scripts necesarios en `package.json`, como `start`, `build`, `dev` y `test`, para facilitar la ejecución y el desarrollo del proyecto.

Al arrancar el proyecto con Compose he detectado un error. No están definidos los scripts de arranque en @package.json 

--------------------------------

- Configura los modelos según las necesidades del proyecto, por ejemplo, establece `timestamps: false` en los modelos si es necesario.

La estructura de la tabla products no tiene creados los campos "createdAt" y "updatedAt" pero, al tratar de hacer a consulta al endpoint de GET products obtengo el siguiente error. 

web-1  |     sql: 'SELECT "id", "name", "price", "description", "createdAt", "updatedAt" FROM "products" AS "Product";',
web-1  |     parameters: undefined
web-1  |   },
web-1  |   original: error: column "createdAt" does not exist

Soluciona este problema de la forma más sencilla teniendo en cuenta que no vamos a cambiar la estructura de la base de datos.

--------------------------------

He arrancado el proyecto pero estoy recibiendo este error:

web-1  | /app/src/models/product.ts:13
web-1  |   id!: number;
web-1  |                                        ^
web-1  | TypeError: Cannot convert undefined or null to object
web-1  |     at Function.getOwnPropertyDescriptor (<anonymous>)
web-1  |     at /app/node_modules/sequelize-typescript/dist/model/column/column.js:18:131
web-1  |     at __esDecorate (/app/src/models/product.ts:13:40)
web-1  |     at /app/src/models/product.ts:13:3
web-1  |     at /app/src/models/product.ts:103:7
web-1  |     at Object.<anonymous> (/app/src/models/product.ts:105:3)

parece estar asociado a los tipos del @product.ts ¿como lo soluciono?

--------------------------------

## Problemas encontrados en otras conversaciones:

- En la configuración de Sequelize, el `host` será `'db'` refiriendose al servicio de Docker.
- Inicializa Sequelize en un archivo separado (`db.ts`) para evitar dependencias circulares.

--------------------------------